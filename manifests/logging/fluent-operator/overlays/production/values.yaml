# Fluent Operator Helm Chart Values
# Chart Version: 3.5.0
# Fluent Bit DaemonSet 및 CRD 컨트롤러 설정

operator:
  disableComponentControllers: "fluentd"
  resources:
    limits:
      cpu: 100m
      memory: 128Mi
    requests:
      cpu: 50m
      memory: 64Mi

fluentbit:
  # Fluent Bit DaemonSet 활성화
  enable: true
  
  # 이미지 설정
  image:
    repository: fluent/fluent-bit
    tag: "3.2.2"
  
  # 리소스 제한 (각 노드에서 실행)
  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi
  
  # 로그 수집을 위한 볼륨 마운트
  # /var/log: 컨테이너 및 호스트 로그
  # /var/lib/docker/containers: Docker 컨테이너 로그
  volumes:
    - name: varlog
      hostPath:
        path: /var/log
    - name: varlibdockercontainers
      hostPath:
        path: /var/lib/docker/containers
  
  volumesMounts:
    - name: varlog
      mountPath: /var/log
      readOnly: true
    - name: varlibdockercontainers
      mountPath: /var/lib/docker/containers
      readOnly: true
  
  # 톨러레이션 (모든 노드에서 실행)
  tolerations:
    - operator: Exists

fluentd:
  crdsEnable: false
  enable: false
