apiVersion: fluentbit.fluent.io/v1alpha2
kind: ClusterParser
metadata:
  name: java-multiline
  labels:
    fluentbit.fluent.io/enabled: "true"
    fluentbit.fluent.io/component: parser
spec:
  regex:
    regex: "^(?<time>\\d{4}-\\d{2}-\\d{2}[T ]\\d{2}:\\d{2}:\\d{2}[.,]\\d{3})\\s+(?<level>\\w+)\\s+(?<logger>[^\\s]+)\\s+-\\s+(?<message>.*)$"
    timeKey: time
    timeFormat: "%Y-%m-%d %H:%M:%S.%L"
